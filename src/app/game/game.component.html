<div id="main_container">
    <div id="player_container"
    cdkDropList
    [cdkDropListData]="gameService.playerCards()"
    cdkDropListConnectedTo="['discard_top']"
    (cdkDropListDropped)="gameService.onDrop($event)">
        @for (card of gameService.playerCards(); track $index){
            <app-card 
            cdkDrag
            [card]="card"
            [isClickable]="true"
            [isFaceUp]="true"
            [class.playable] = 'card.isPlayable'
            />
        }
    </div>

    <div id="computer_container">
        @for (card of gameService.compCards(); track $index){
            <app-card 
            [card]="card"
            [isClickable]="false"
            [isFaceUp]="false"
            />
        }
    </div>

    <div id="deck" >
        <app-card [isFaceUp]="false"/>
    </div>

    <div id="discard_top"
    cdkDropList
    [cdkDropListData]="gameService.discardTop()"
    cdkDropListConnectedTo="['player_container']"
    (cdkDropListDropped)="gameService.onDrop($event)">
        @for (card of gameService.discardTop(); track $index) {
            <app-card
            [card]="card"
            [isClickable]="false"
            [isFaceUp]="true"
            />
        }
    </div>
</div>

